<div class="lp-quiz">
    <style type="text/css">
        .lp-awards__actions-button,.lp-game__actions-button{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;font:14px/50px 'ProximaNova Regular';text-align:center;background-color:#222;color:#fff;min-width:220px;padding:0 2em;margin:0 auto;border:none;outline:0;cursor:pointer;-webkit-transition:.5s all ease;transition:.5s all ease}.lp-awards__actions-button:hover,.lp-game__actions-button:hover{background-color:#1f1f1f}.lp-game__slide-body::after,.lp-game__slider-dots::after,.lp-game__slider-track::after,.lp-game__slider::after,.lp-promo-form::after{content:'';display:table;clear:both}.lp-awards-tab__title,.lp-awards__title{font:36px/1 'ProximaNova Regular';color:#222;text-align:center;margin:0}.lp-promo-form{display:inline-block;white-space:nowrap;margin:10px 0}.lp-promo-form__form-error{position:absolute;top:100%;left:0;white-space:nowrap}.lp-promo-form__element{position:relative;display:block;float:left}.lp-promo-form__email{display:inline-block;font:14px/1.8 'ProximaNova Regular';color:#111;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#e84d26;border:1px solid #222;width:300px;height:60px;padding:0 1.5em;outline:0;-webkit-transition:.5s all ease;transition:.5s all ease}.lp-promo-form__form--focused .lp-promo-form__email{border-color:#e84d26}.widget_invalid .lp-promo-form__email{border-color:#de023b}.lp-promo-form__email::-webkit-input-placeholder{font-size:1em;color:#111}.lp-promo-form__email::-moz-placeholder{font-size:1em;color:#111}.lp-promo-form__email::-ms-input-placeholder{font-size:1em;color:#111}.lp-promo-form__email::placeholder{font-size:1em;color:#111}.lp-promo-form__buttons{font-size:0;float:left;margin:0 0 0 20px}.lp-promo-form__submit{display:inline-block;width:110px;height:60px;border:1px solid #888;outline:0;cursor:pointer;-webkit-transition:.5s all ease;transition:.5s all ease}.lp-promo-form__submit--men,.lp-promo-form__submit:last-child{border-left:none}.lp-promo-form__submit--men::after{content:'Мужчинам'}.lp-promo-form__submit--women::after{content:'Женщинам'}.lp-promo-form__submit:hover{background-color:#f0f0f0}.lp-promo-form__form--focused .lp-promo-form__submit{border-color:#222}.lp-promo-form__element.widget_invalid~.lp-subscription__buttons .lp-subscription__submit{border-color:#de023b}.lp-awards__tabs{text-align:center;padding:55px 0 0;font-size:0}.lp-awards__tabs-switcher{display:none}.lp-awards__tabs-contents{position:relative}.lp-awards__tabs-content{-webkit-box-sizing:border-box;box-sizing:border-box;padding:58px 30px;-webkit-transition:.5s opacity ease;transition:.5s opacity ease}.lp-awards__tabs-switcher:checked+.lp-awards__tabs-content{position:relative;height:auto;opacity:1;overflow:inherit}.lp-awards__tabs-content::after{content:'';display:block;position:absolute;top:-19px;width:35px;height:35px;background-color:inherit;border:inherit;border-width:1px 1px 0 0;-webkit-transform:rotateZ(-45deg);transform:rotateZ(-45deg);margin:0 0 0 -17px}.lp-awards-tab,.lp-awards__action{display:inline-block;vertical-align:top}[data-contents-count="3"] .lp-page__bonus.lp-awards__tabs-content::after{left:16.5%}[data-contents-count="3"] .lp-awards__tabs-content--blacklabel.lp-awards__tabs-content::after,[data-contents-count="1"] .lp-page__bonus.lp-awards__tabs-content::after{left:50%}[data-contents-count="3"] .lp-awards__tabs-content--game.lp-awards__tabs-content::after{left:83.5%}.lp-awards__title{font-size:42px;padding:108px 0 60px}.lp-awards-tab{width:33%;border-left:solid 1px #2f2f2f;padding:0 0 55px}.lp-awards-tab:first-child{border-left:none}.lp-awards-tab__title{font-size:24px;padding:42px 0 18px}.lp-awards-tab__body{min-height:208px;position:relative;padding:0 0 40px}.lp-awards-tab__text{font:16px/1.6 'ProximaNova Regular',Open,sans-serif;color:#a7a7a7;padding:0 40px}.lp-awards-tab__link{position:absolute;left:0;bottom:0;width:100%;font:14px/1.4 'ProximaNova Regular',Open,sans-serif;color:#fff;-webkit-text-decoration:underline solid #404040;text-decoration:underline solid #404040;cursor:pointer;-webkit-transition:.5s all ease;transition:.5s all ease}.lp-awards-tab__link:hover{color:#ccc}.lp-awards-tab__image{width:210px;height:210px;margin:0 auto;background:50% 50% no-repeat;background-size:auto}.lp-awards__actions{width:100%;font-size:0;text-align:center}.lp-awards__actions-description{font:13px/1.6 'ProximaNova Regular',Open,sans-serif;color:#777;text-align:center}.lp-awards__actions-block{padding:65px 0 45px}.lp-awards__action{width:33%;text-align:center}.lp-awards__action-percent{font:96px/1 'ProximaNovaExCn Light',Open,sans-serif;color:#fff;padding:26px 0 18px}.lp-awards__action-description{font:16px/1.6 'ProximaNova Regular',Open,sans-serif;color:#a7a7a7;text-align:center;min-height:100px;padding:0 2.5em}.lp-game .element-hidden{display:none}.lp-game__title{font:32px/1.5 'ProximaNova Regular';text-align:center;color:#222;margin:0;display:none}.lp-game__title-wrapper{padding:5px 0 65px;height:96px}[data-step="1"] .lp-game__title--1,[data-step="0"] .lp-game__title--0,[data-step="2"] .lp-game__title--2{display:block}.lp-game__slider{position:relative;width:896px;height:535px;margin:0 auto;padding:0 0 40px;overflow:hidden}.widescreen .lp-game__slider{width:1050px}.lp-game__slider-track{width:4200px;-webkit-transition:.5s -webkit-transform ease;transition:.5s -webkit-transform ease;transition:.5s transform ease;transition:.5s transform ease,.5s -webkit-transform ease}.widescreen [data-step="0"] .lp-game__slider-track,[data-step="0"] .lp-game__slider-track{-webkit-transform:translateX(0);transform:translateX(0)}[data-step="1"] .lp-game__slider-track{-webkit-transform:translateX(-896px);transform:translateX(-896px)}.widescreen [data-step="1"] .lp-game__slider-track{-webkit-transform:translateX(-1050px);transform:translateX(-1050px)}[data-step="2"] .lp-game__slider-track{-webkit-transform:translateX(-1792px);transform:translateX(-1792px)}.widescreen [data-step="2"] .lp-game__slider-track{-webkit-transform:translateX(-2100px);transform:translateX(-2100px)}[data-step="3"] .lp-game__slider-track{-webkit-transform:translateX(-2688px);transform:translateX(-2688px)}.widescreen [data-step="3"] .lp-game__slider-track{-webkit-transform:translateX(-3150px);transform:translateX(-3150px)}.lp-game__slider-dots{position:absolute;bottom:0;left:0;width:100%;font-size:0;line-height:0;text-align:center}.lp-game__slider-dot{width:12px;height:12px;display:inline-block;background-color:#888;border-radius:50%;margin:0 6px}[data-step="3"] .lp-game__slider-dot--3,[data-step="1"] .lp-game__slider-dot--1,[data-step="0"] .lp-game__slider-dot--0,[data-step="2"] .lp-game__slider-dot--2{background-color:#222}.lp-game__slider-button{position:absolute;top:0;height:100%;width:24px;background:50% 50% no-repeat;border:none;outline:0;display:block;cursor:pointer;-webkit-transition:.5s all ease;transition:.5s all ease}[data-step="3"] .lp-game__slider-button--next,[data-step="0"] .lp-game__slider-button--prev{display:none}.lp-game__slider-button:hover{opacity:.8}.lp-game__slider-button--next{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAsBAMAAACNsmVwAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAAJFBMVEUAAAB/f3+IiIiIiIiHh4eJiYmHh4eHh4eJiYl/f3+Hh4eIiIgXtD57AAAADHRSTlMABvmwT06xr1ACq6wua/L0AAAAOElEQVQoz2NgFGBAgFmFSBwOdWSppoGSYlFGlnIyHCCpoEQEm1VNYJBIIDsRxfFUlJiNHAzIyQUAmVoTgsQiJNkAAAAASUVORK5CYII=);right:40px}.lp-game__slider-button--next:hover{right:38px}.lp-game__slider-button--prev{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAsCAYAAAB/nHhDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTEwLTIyVDE1OjU5OjIyKzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0xMC0yMlQxNjowMDowNyswMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0xMC0yMlQxNjowMDowNyswMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiZWY5OWIwZS00ZGZhLTQ5OGUtYWQwZC0zZDRjNjY4NzQzYjIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYWQ0MGJhNS03MmE3LTA1NDktYmI5Ni01ZjZjZDcxY2VkNGIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjNzBjNTQ2MS1kMDk4LTRmMmQtOTNmMy03ZGRhNWQ4MDBkYWIiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM3MGM1NDYxLWQwOTgtNGYyZC05M2YzLTdkZGE1ZDgwMGRhYiIgc3RFdnQ6d2hlbj0iMjAxOC0xMC0yMlQxNTo1OToyMiswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmJlZjk5YjBlLTRkZmEtNDk4ZS1hZDBkLTNkNGM2Njg3NDNiMiIgc3RFdnQ6d2hlbj0iMjAxOC0xMC0yMlQxNjowMDowNyswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgZXYioAAADnSURBVFiFtddLDgIhEEXRigOWpy7r7UUTdXmOygkmhPCpz2PA9J50mi5oASDtUtX0AlAAFFUVYQM1/gLwAHChAk38C+BOfYJRnAbM4hRgFU8Du3gKsMTDgDUeAjxxN+CNu4BI3AzU+LvGb56dtgUy8S2QjS8BRnwKsOJDgBkfAdR4D9DjLXAk/geOxVvgU4HrCeAo0r9kOjLaplRk9qHRkNWooCC7YZdGLOM6hVgPnDDiOTJDiPfQdyORa4sLiV68zMMxc3U0ISHAg4QBK5ICLEga2CEUYIXQgBlCBTrkCfaPeIcUVZUf7PLdXZE0YnEAAAAASUVORK5CYII=);left:40px}[data-step="3"] .lp-game__slider-button--prev::after{content:"Посмотреть ответы";font:14px/18px 'ProximaNova Regular';margin:-18px 0 0;display:block;position:absolute;top:50%;left:50px;color:#888;text-align:left}.lp-game__slider-button--prev:hover{left:38px}.lp-game__slide{float:left;width:auto;height:100%}.lp-game__slide-result{position:absolute;bottom:30px;left:70px;right:70px;background-color:#fff;-webkit-box-shadow:1px 1px 3px 0 rgba(0,0,0,.122);box-shadow:1px 1px 3px 0 rgba(0,0,0,.122);padding:30px;font:14px/18px 'ProximaNova Regular';opacity:0;-webkit-transition:.5s opacity ease 1s;transition:.5s opacity ease 1s}.lp-game__slide-part--success .lp-game__slide-result{opacity:1}.lp-game__slide-result-text,.lp-game__slide-result-title{display:block}.lp-game__slide-part{position:relative;display:block;width:444px;height:535px;background:50% 50% no-repeat #f8f8f8;background-size:auto 100%;margin:0 2px;float:left;cursor:pointer;-webkit-perspective:1000px;perspective:1000px}.widescreen .lp-game__slide-part{width:521px}.lp-game__slide-part::after,.lp-game__slide-part::before{content:'';display:block;opacity:0;-webkit-transition:.5s all ease;transition:.5s all ease}.lp-game__slide-part::before{position:absolute;top:50%;left:50%;width:148px;height:148px;margin:-64px 0 0 -64px;background:url(https://a.lmcdn.ru/files/cms/palec_beliy.svg) 50% 50% no-repeat rgba(0,0,0,.702);background-size:auto 75px;border-radius:50%;-webkit-transform:rotateY(90deg);transform:rotateY(90deg)}.lp-game__slide-part::after{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;top:0;left:0;width:100%;height:100%;border:4px solid #222;-webkit-box-shadow:inset 0 0 10px 0 rgba(0,0,0,.3);box-shadow:inset 0 0 10px 0 rgba(0,0,0,.3)}.lp-game__slide-part:hover::after{opacity:1}.lp-game-begining .lp-game__slide-part:hover::before{opacity:1;-webkit-transform:rotateY(0);transform:rotateY(0)}.lp-game__slide-image{display:block;width:100%}.lp-game__result{background-color:#fff;border:4px solid #222;-webkit-box-sizing:border-box;box-sizing:border-box;width:896px;height:535px;padding:105px 0 0}.widescreen .lp-game__result{width:1050px}.lp-game__result-icon{display:block;width:100px;height:92px;background:50% 50% no-repeat;background-size:cover;margin:0 auto}.lp-game__result--success .lp-game__result-icon{background-image:url(https://a.lmcdn.ru/files/cms/finger-up.svg)}.lp-game__result--fail .lp-game__result-icon{background-image:url(https://a.lmcdn.ru/files/cms/finger-down.svg)}.lp-game__result-text{font:22px/32px 'ProximaNova Regular';color:#111;padding:25px 0}.lp-game__result-text span{white-space:pre-line}.lp-game__result-content,.lp-game__result-text{display:none;text-align:center}.lp-game__result--fail .lp-game__result-content--fail,.lp-game__result--fail .lp-game__result-text--fail,.lp-game__result--success .lp-game__result-content--success,.lp-game__result--success .lp-game__result-text--success{display:block}.lp-game__result-dots{margin:-6px 0 30px;font-size:0}.lp-game__result-dot{display:inline-block;width:15px;height:15px;background-color:#e84d26;border-radius:50%;margin:0 8px}.lp-game__result-dot--success{background-color:#98c989}.lp-game__result-button{display:inline-block;font:13px/48px 'ProximaNova Regular';text-align:center;width:200px;border:1px solid #888;color:#111;cursor:pointer;-webkit-transition:.5s all ease;transition:.5s all ease}.lp-game__result-button:hover{background-color:#f0f0f0}.lp-game__actions{display:block;text-align:center}.lp-game__actions-button{display:inline-block;margin:25px auto}.lp-game__description{font:13px/1.6 'ProximaNova Regular';color:#777;margin:45px auto;padding:30px 0 0}.field-error .lp-promo-form__email{border-color:#d13f19!important}.lp-promo-form__form-error{padding:10px 0 0;color:#111}.lp-promo-form__footer{display:block;clear:both;text-align:center;padding:50px 0 0}.lp-promo-form__footer-link{display:none;font:14px/1 'ProximaNova Regular';text-decoration:underline}
    </style>
    <div class="lp-awards__tabs-content-wrapper js-quiz-block">
        <input name="quiz" type="hidden" value="JU662DWBJVE2,VE027EWZID18,PO006GWAXCN7,PO006EWYYU95,BO982DWZHN57,PH008AWACUA4,MI048BWAECD4,BO010EWBHOV4,FR003EWAILR9,EM598AWZVZ90,RE025BWAGNG2,WE017EWADTX3,TW005AWZLW45,CO472AWBBUL6,CH057EWAMHP4,FU003BWBMOZ8"/>
        <input name="quiz" type="hidden" value="JU662DWBJVE2,VE027EWZID18,PO006GWAXCN7,PO006EWYYU95,BO982DWZHN57,PH008AWACUA4,MI048BWAECD4,BO010EWBHOV4,FR003EWAILR9,EM598AWZVZ90,RE025BWAGNG2,WE017EWADTX3,TW005AWZLW45,CO472AWBBUL6,CH057EWAMHP4,FU003BWBMOZ8"/>
        <input name="quiz" type="hidden" value="JU662DWBJVE2,VE027EWZID18,PO006GWAXCN7,PO006EWYYU95,BO982DWZHN57,PH008AWACUA4,MI048BWAECD4,BO010EWBHOV4,FR003EWAILR9,EM598AWZVZ90,RE025BWAGNG2,WE017EWADTX3,TW005AWZLW45,CO472AWBBUL6,CH057EWAMHP4,FU003BWBMOZ8"/>
        <input class="lp-awards__tabs-switcher" name="tab-switcher" type="radio" id="tab-2" />
        <div class="lp-awards__tabs-content lp-tabs-content lp-awards__tabs-content--game lp-page__block">
            <div class="lp-game" data-step="0">
                <div class="lp-game__title-wrapper">
                    <h2 class="lp-game__title lp-game__title--0">Угадай, какой товар бестселлер и получи<br/>скидку 15% за каждую викторину</h2>
                    <h2 class="lp-game__title lp-game__title--1">Угадай, где скидка больше и получи<br/>скидку 15% за каждую викторину</h2>
                    <h2 class="lp-game__title lp-game__title--2">Угадай, какой товар дороже и получи<br/>скидку 15% за каждую викторину</h2>
                </div>
                <div class="lp-game__slider">
                    <div class="lp-game__slider-track js-game-slider"></div>
                    <div class="lp-game__slider-dots">
                        <div class="lp-game__slider-dot lp-game__slider-dot--0"></div>
                        <div class="lp-game__slider-dot lp-game__slider-dot--1"></div>
                        <div class="lp-game__slider-dot lp-game__slider-dot--2"></div>
                        <div class="lp-game__slider-dot lp-game__slider-dot--3"></div>
                    </div>
                    <button class="lp-game__slider-button lp-game__slider-button--prev element-hidden"></button>
                    <button class="lp-game__slider-button lp-game__slider-button--next element-hidden"></button>
                </div>
                <div class="lp-game__description">Вводя e-mail, вы даете свое согласие на обработку персональных данных. Убедитесь, что у вас в настройках нет ограничений на новостную рассылку Lamoda. Промокод действует при любой сумме заказа, является уникальным и может быть применен только один раз. Ассортимент товаров, участвующих в акции, может измениться. Промокод данной акции не ограничивает применение скидки по программе лояльности Lamoda Friends&Family. С 25 октября по 26 ноября 2019 года включительно.</div>
                <div class="lp-game__actions">
                    <a href="/c/4153/default-women/?sf=380&display_locations=all&sitelinklp=bf2018" class="lp-game__actions-button">Перейти к покупкам</a>
                </div>
            </div>
        </div>
        <script id="gameSlide" type="text/template">
            <div class="lp-game__slide-body">
                <% for (var sku in products) { %>
                <span  class="lp-game__slide-part" data-sku="<%= sku %>"
                    style="background-image: url('//a.lmcdn.ru/pi/img389x562/<%= products[sku].images[0] %>')">
                    <span class="lp-game__slide-result">
                        <span class="lp-game__slide-result-title">Правильный ответ!</span>
                        <span class="lp-game__slide-result-text js-quiz-result-text"></span>
                    </span>
                </span>
                <% } %>
            </div>
        </script>
        <script id="gameResultSlide" type="text/template">
            <div class="lp-game__slide-body">
                <div class="lp-game__result lp-game__result--success">
                    <div class="lp-game__result-icon"></div>
                    <div class="lp-game__result-text lp-game__result-text--success">
                        <span class="js-quiz-final-result-text">Ура, вы дали верные ответы на все вопросы
                        Введите ваш e-mail для получения скидки 15%</span>
                    </div>
                    <div class="lp-game__result-text lp-game__result-text--fail">
                        <span>Упс, вы не угадали ответы на все вопросы...
                        Попытайте удачу еще раз!</span>
                    </div>
                    <div class="lp-game__result-content lp-game__result-content--success">
                        <form class="lp-promo-form js-quiz-form" action="/blackfriday/quiz/sendcoupon/" data-factor="desktop">
                            <div class="lp-promo-form__element lp-promo-form__element--email">
                                <input class="lp-promo-form__email" type="text" name="email" value="" maxlength="50" placeholder="Введите e-mail ..." autocomplete="off" data-type="email"/>
                                <div data-form-error="email" class="form__error lp-promo-form__form-error"></div>
                            </div>
                            <div data-form-widget="gender" class="lp-promo-form__buttons">
                                <input type="hidden" name="gender" value="F" data-form-control="gender" />
                                <button class="lp-promo-form__submit lp-promo-form__submit--women" type="submit" name="gender" value="M" data-gender="F"></button>
                                <button class="lp-promo-form__submit lp-promo-form__submit--men" type="submit" name="gender" value="F" data-gender="M"></button>
                            </div>
            
                        </form>
                        <div class="lp-promo-form__footer">
                            <a class="lp-promo-form__footer-link js-more-discounts" href="">Хочу еще скидок</a>
                        </div>
                    </div>
                    <div class="lp-game__result-content lp-game__result-content--fail">
                        <div class="lp-game__result-dots">
                            <div class="lp-game__result-dot lp-game__result-dot--1"></div>
                            <div class="lp-game__result-dot lp-game__result-dot--2"></div>
                            <div class="lp-game__result-dot lp-game__result-dot--3"></div>
                        </div>
                        <div class="lp-game__result-buttons">
                            <button class="lp-game__result-button js-game-restart">Теперь точно угадаю</button>
                        </div>
                    </div>
                </div>
            </div>
        </script>
        <script type="text/javascript">document.addEventListener('DOMContentLoaded',function() {
        !function o(s,a,u){function l(t,e){if(!a[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Backbone.View),n(s,[{key:"initialize",value:function(){LMDA&&LMDA.user&&LMDA.user.email&&this.$el.find("[name=email]").val(LMDA.user.email),this.showError=this.showError.bind(this),this.$el.on("submit",this.submitForm.bind(this))}},{key:"parseForm",value:function(){return this.$el.find(":input[type=text], :input[type=email], :input[type=hidden]").get().reduce(function(e,t){return t.name&&(e[t.name]=t.value),e},{})}},{key:"verifyField",value:function(e){switch($(e).attr("data-type")){case"email":if(!e.value)return this.showError("Пожалуйста, заполните поле",e),!1;if(!e.value.match(/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/))return this.showError("Пожалуйста, введите действительный адрес электронной почты",e),!1}return!0}},{key:"verifyForm",value:function(){var r=this,n=!0;return this.$el.find(":input[data-type]").each(function(e,t){n&&(n=r.verifyField(t))}),n}},{key:"submitForm",value:function(e){var t=this;e.preventDefault(),this.verifyForm()&&(this.$el.attr("action"),this.parseForm(),$.post(this.$el.attr("action"),this.parseForm()).done(function(e){e?e.status.match(/ok/i)?t.showSuccess(e):t.showError(e):t.showError("Что-то пошло не так. Попробуйте еще раз позднее.")}).error(this.showError))}},{key:"showError",value:function(e,t){$(t).parent().addClass("field-error").find(".form__error").text(e).show()}},{key:"resetError",value:function(e){var t=e.currentTarget;$(t).parent().removeClass("field-error").find(".form__error").text("")}},{key:"showSuccess",value:function(e){}},{key:"events",get:function(){return{"focus [type=text]":"resetError"}}}]),s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}r.default=o},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Backbone.View),n(s,[{key:"initialize",value:function(){this.listenTo(Backbone,"subscribe:success",this.headSubscribeSuccess.bind(this)),this.listenTo(Backbone,"black_mark_subscribe:success",this.subscribeSuccess.bind(this)),this.listenTo(Backbone,"black_mark_sku:fail",this.report.bind(this,"alert",{text:"артикул не участвует в акции",block:"black_mark",page_type:"bf2018"}))}},{key:"menuLinkClick",value:function(e){this.report("menu_click",{title:e.currentTarget.innerText,page_type:"bf2018"})}},{key:"subscribeSuccess",value:function(e){this.report("subscribe",{source:"bf2018",email:e.email,gender:e.gender,block:"black_mark"})}},{key:"headSubscribeSuccess",value:function(e){this.report("subscribe",{source:"bf2018",email:$(".lp-subscription__form [name=email]").val(),gender:$(".lp-subscription__form [name=gender]").val(),block:"header"})}},{key:"moreDiscountsClick",value:function(e){this.report("click",{action_type:{"tab-0":"more","tab-1":"play_game","tab-2":"play_game"}[e.currentTarget.getAttribute("for")],block:{"tab-0":"bonus","tab-1":"black_mark","tab-2":"game"}[e.currentTarget.getAttribute("for")],page_type:"bf2018"})}},{key:"report",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";LMDA.Statistics.report("bf2018",e,t)}},{key:"events",get:function(){return{"click .lp-bonus__button":this.report.bind(this,"click",{action_type:"open_catalog",block:"bonus",page_type:"bf2018"}),"click .lp-game__actions-button":this.report.bind(this,"click",{action_type:"open_catalog",block:"game",page_type:"bf2018"}),"click .lp-blacklabel__actions-button":this.report.bind(this,"click",{action_type:"open_catalog",block:"black_mark",page_type:"bf2018"}),"click .lp-blacklabel__form-submit":this.report.bind(this,"click",{action_type:"submit_sku",block:"black_mark",page_type:"bf2018"}),"click .lp-menu__link":"menuLinkClick","click .lp-awards-tab__link":"moreDiscountsClick","click .lp-share__button--vk":this.report.bind(this,"share",{page_type:"bf2018"}),"click .lp-share__button--fb":this.report.bind(this,"share",{page_type:"bf2018"})}}}]),s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}r.default=o},{}],3:[function(e,t,r){"use strict";var n,i=e("./quiz-view.js");new((n=i)&&n.__esModule?n:{default:n}).default({el:".js-quiz-block"})},{"./quiz-view.js":10}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,s=e("./quiz-model.js"),a=(o=s)&&o.__esModule?o:{default:o};var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,Backbone.Collection),n(l,[{key:"initialize",value:function(){this.listenTo(Backbone,"quiz-model:cahge",this.checkModels.bind(this))}},{key:"update",value:function(e){var t,r=this,n=[],i=[];if(e&&e.length){var o=!0,s=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c=c.sort(function(){return.5-Math.random()}),i.push({sku1:c.pop(),sku2:c.pop()})}}catch(e){s=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}this.add(i)}_.each(this.models,function(e,t){var r={};0==t&&(r={bestseller:1}),n.push(e.update(r))}),(t=$).when.apply(t,n).done(function(){r.trigger("collection:ready")})}},{key:"isReady",value:function(){var t=!0;return _(this.models).each(function(e){"ready"!=e.status&&(t=!1)}),t}},{key:"checkModels",value:function(){var t=!0;return _(this.models).each(function(e){e.get("answer")||(t=!1)}),t&&Backbone.trigger("game:over"),t}},{key:"model",get:function(){return a.default}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.currentStep=0,t}r.default=u},{"./quiz-model.js":5}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Backbone.Model),n(s,[{key:"initialize",value:function(){this.on("change:answer",this.checkResult),this.reset=this.reset.bind(this)}},{key:"update",value:function(e){var t=Object.assign({sku1:this.get("sku1"),sku2:this.get("sku2")},e);return $.post("/blackfriday/preparequestions/",t,this.updateHandler.bind(this))}},{key:"updateHandler",value:function(e){e&&"OK"==e.status&&(this.set("products",e.products),this.set("status","ready"))}},{key:"checkResult",value:function(){var e=this.get("products"),t=this.get("answer"),r=this.get("sku1"),n=this.get("sku2");if(e&&e[r]){switch(this.get("step")){case 0:parseInt(e[r].purchase_count)>parseInt(e[n].purchase_count)?t==r?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):(this.set("result",!1),Backbone.trigger("quiz-model:rightanswer",t,!1)):parseInt(e[r].purchase_count)==parseInt(e[n].purchase_count)?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):t==n?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):(this.set("result",!1),Backbone.trigger("quiz-model:rightanswer",t,!1));break;case 1:parseInt(e[r].discount)>parseInt(e[n].discount)?t==r?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):(this.set("result",!1),Backbone.trigger("quiz-model:rightanswer",t,!1)):parseInt(e[r].discount)==parseInt(e[n].discount)?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):t==n?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):(this.set("result",!1),Backbone.trigger("quiz-model:rightanswer",t,!1));break;case 2:parseInt(e[r].price)>parseInt(e[n].price)?t==r?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):(this.set("result",!1),Backbone.trigger("quiz-model:rightanswer",t,!1)):parseInt(e[r].price)==parseInt(e[n].price)?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):t==n?(this.set("result",!0),Backbone.trigger("quiz-model:rightanswer",t,!0)):(this.set("result",!1),Backbone.trigger("quiz-model:rightanswer",t,!1))}Backbone.trigger("quiz-model:cahge",this)}}},{key:"reset",value:function(){this.clear().set(this.defaults)}},{key:"defaults",get:function(){return{sku1:"",sku2:"",step:0,products:{},status:"none",answer:"",result:null}}}]),s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}r.default=o},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,s=e("./lp-form.js");var a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,((o=s)&&o.__esModule?o:{default:o}).default),n(u,[{key:"showError",value:function(e,t){"desktop"==this.$el.data("factor")?function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0}(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"showError",this).call(this,e,t):"string"==typeof e?$(".js-quiz-final-result-text").html(e):$(".js-quiz-final-result-text").html("Что-то пошло не так. Попробуйте еще раз позднее.")}},{key:"showSuccess",value:function(){$(".js-more-discounts").show(),$(".js-quiz-final-result-text").html("Поздравляем! На ваш e-mail придет письмо<br/>с промокодом на скидку 15%"),$(".js-quiz-form").hide(),$(".lp-promo-form__footer").show(),$(".lp-game__slider-button").removeClass("element-hidden"),Backbone.trigger("quiz_email:success")}}]),u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e))}r.default=a},{"./lp-form.js":1}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Backbone.Model),n(s,[{key:"initialize",value:function(){this.listenTo(Backbone,"quiz-model:cahge",this.updateResult)}},{key:"reset",value:function(){this.clear({silent:!0}).set(this.defaults)}},{key:"updateResult",value:function(e){var t=this.get("steps");t[e.get("step")]=e.get("result"),this.set("steps",t),this.set("result",this.attributes.steps.every(function(e){return e})),this.trigger("change:result",this)}},{key:"defaults",get:function(){return{steps:[!1,!1,!1],result:null}}}]),s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}r.default=o},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Backbone.View),n(s,[{key:"initialize",value:function(){this.listenTo(this.model,"change:result",this.setClass.bind(this))}},{key:"render",value:function(){return this.$el.html(this.template()),this.el}},{key:"setClass",value:function(e){var t=e.get("steps");for(var r in this.$(".lp-game__result").toggleClass("lp-game__result--success",this.model.get("result")),this.$(".lp-game__result").toggleClass("lp-game__result--fail",!this.model.get("result")),t)this.$(".lp-game__result-dot--"+(parseInt(r)+1)).toggleClass("lp-game__result-dot--success",t[r]);this.model.get("result")&&Backbone.trigger("quiz:success")}},{key:"restartQuiz",value:function(e){e&&e.preventDefault(),this.model.reset(),Backbone.trigger("quiz:restart")}},{key:"lookAnswers",value:function(){}},{key:"className",get:function(){return"lp-game__slide"}},{key:"events",get:function(){return{"click .js-game-restart":"restartQuiz","click .js-more-discounts":"restartQuiz"}}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.tagName="div",t.template=t.options.template,t}r.default=o},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Backbone.View),n(s,[{key:"initialize",value:function(){this.listenTo(this.model,"change:result",this.showResult.bind(this)),this.listenTo(Backbone,"quiz:restart",this.model.reset),this.render=this.render.bind(this)}},{key:"render",value:function(){return this.$el.html(this.template(this.model.toJSON())),this.el}},{key:"slideChecked",value:function(e){this.model.get("answer")||this.model.set("answer",e.currentTarget.getAttribute("data-sku"))}},{key:"showResult",value:function(e){var t=e.toJSON();t&&t.products&&t.products[t.sku1]&&(t.result?(this.$el.find('[data-sku="'+t.answer+'"]').addClass("lp-game__slide-part--success"),this.setRsultText(this.$el.find('[data-sku="'+t.answer+'"] .js-quiz-result-text'),t.step,t.products[t.answer])):t.answer==t.sku1?(this.$el.find('[data-sku="'+t.sku2+'"]').addClass("lp-game__slide-part--success"),this.setRsultText(this.$el.find('[data-sku="'+t.sku2+'"] .js-quiz-result-text'),t.step,t.products[t.sku2])):(this.$el.find('[data-sku="'+t.sku1+'"]').addClass("lp-game__slide-part--success"),this.setRsultText(this.$el.find('[data-sku="'+t.sku1+'"] .js-quiz-result-text'),t.step,t.products[t.sku1])))}},{key:"setRsultText",value:function(e,t,r){var n="";switch(t){case 0:n="Этого товара было продано больше";break;case 1:n="Скидка на товар "+r.discount+" "+LMDA.country.currency;break;case 2:n="Цена товара "+r.price+" "+LMDA.country.currency}$(e).text(n)}},{key:"className",get:function(){return"lp-game__slide"}},{key:"events",get:function(){return{"click .lp-game__slide-part":"slideChecked"}}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.tagName="div",t.template=t.options.template,t}r.default=o},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=c(e("./quiz-steps-view.js")),s=c(e("./quiz-result-view.js")),a=c(e("./quiz-result-form-view.js")),u=c(e("./quiz-collection.js")),l=c(e("./quiz-result-model.js"));c(e("./lstat.js"));function c(e){return e&&e.__esModule?e:{default:e}}var p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,Backbone.View),n(f,[{key:"initialize",value:function(){this.template=this.initTemplates(),this.skus=this.$("[name=quiz]").map(function(e,t){return[t.value.split(",")]}).get(),this.collection=new u.default,this.collection.update(this.skus),this.listenTo(this.collection,"collection:ready",this.render.bind(this)),this.listenTo(Backbone,"quiz-model:cahge",this.onAnswered.bind(this)),this.listenTo(Backbone,"quiz:restart",this.restartQuiz.bind(this)),this.listenTo(Backbone,"game:over",this.gameOver.bind(this)),this.$(".lp-game__slider-button--next").on("click",this.goNextStep.bind(this)),this.$(".lp-game__slider-button--prev").on("click",this.goPrevStep.bind(this)),this.quizResultModel||(window.quizResultModel=this.quizResultModel=new l.default),this.$el.addClass("lp-game-begining")}},{key:"initTemplates",value:function(){return _(this.$('[type="text/template"]')).reduce(function(e,t){return e[t.id]=_.template(t.innerText),e},{})}},{key:"render",value:function(){var n=this;this.$(".js-game-slider").empty(),_(this.collection.models).each(function(e,t){e.set("step",t);var r=new o.default({id:"qwiz-step-"+t,model:e,template:n.template.gameSlide}).render();n.$(".js-game-slider").append(r)});var e=new s.default({model:this.quizResultModel,template:this.template.gameResultSlide});this.$(".js-game-slider").append(e.render()),this.resultForm=new a.default({el:".js-quiz-form"})}},{key:"lookAnswers",value:function(){this.$(".lp-game").attr("data-step",2)}},{key:"goNextStep",value:function(){var e=parseInt(this.$(".lp-game").attr("data-step"))+1;this.$(".lp-game").attr("data-step",e)}},{key:"goPrevStep",value:function(){var e=parseInt(this.$(".lp-game").attr("data-step"))-1;this.$(".lp-game").attr("data-step",e)}},{key:"setStep",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;0<=e&&e<=3&&this.$(".lp-game").attr("data-step",e)}},{key:"onAnswered",value:function(e){var t=e.get("step");setTimeout(this.setStep.bind(this,t+1),500)}},{key:"restartQuiz",value:function(){this.$(".lp-game").attr("data-step",0),this.$(".lp-game__slider-button").addClass("element-hidden"),this.$el.addClass("lp-game-begining"),this.collection.reset(),this.collection.update(this.$("[name=quiz]").map(function(e,t){return[t.value.split(",")]}).get())}},{key:"gameOver",value:function(){this.$(".lp-game__slider-button").removeClass("element-hidden"),this.$el.removeClass("lp-game-begining")}},{key:"events",get:function(){return{"click .js-look-answers":"lookAnswers"}}}]),f);function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e))}r.default=p},{"./lstat.js":2,"./quiz-collection.js":4,"./quiz-result-form-view.js":6,"./quiz-result-model.js":7,"./quiz-result-view.js":8,"./quiz-steps-view.js":9}]},{},[3]);
        });</script>
    </div>
</div>
